
services:
  # Tests the Scheduled Ledger Sync logic
  ledger_sync_test:
    build: .
    volumes:
      # Mount credentials securely into the container for local auth testing
      - ./credentials.json:/var/task/credentials.json:ro
      - ./.env:/var/task/.env:ro
    env_file:
      - .env
    # Override the AWS Lambda entrypoint to run the python file directly
    entrypoint: ["python3", "calendar_sync.py"]
